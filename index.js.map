{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/js/izi-toast.js","../src/main.js"],"sourcesContent":["const API_KEY = '52933898-64c235b98ac290495c49a4d77';\nconst BASE_URL = 'https://pixabay.com/api/';\n\n/**\n * Отримує масив зображень із Pixabay API за ключовим словом\n * @param {string} query - слово для пошуку\n * @returns {Promise<Array>} - масив об'єктів із зображеннями\n */\nexport async function fetchImages(query) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    per_page: 20,\n  });\n\n  const url = `${BASE_URL}?${params}`;\n\n  const response = await fetch(url);\n\n  if (!response.ok) {\n    throw new Error(`HTTP error: ${response.status}`);\n  }\n\n  const data = await response.json();\n  return data.hits; // Повертаємо лише масив із зображеннями\n}\n","/**\n * Створює HTML-розмітку карток із зображеннями\n * @param {Array} images\n * @returns {string} HTML-рядок\n */\nexport function createGalleryMarkup(images) {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n      <li class=\"card\">\n        <a href=\"${largeImageURL}\" target=\"_blank\" rel=\"noopener noreferrer\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n        </a>\n        <div class=\"stats\">\n          <div><span>Likes</span>${likes}</div>\n          <div><span>Views</span>${views}</div>\n          <div><span>Comments</span>${comments}</div>\n          <div><span>Downloads</span>${downloads}</div>\n        </div>\n      </li>`\n    )\n    .join('');\n}\n\n/**\n * Очищає вміст галереї\n */\nexport function clearGallery() {\n  document.querySelector('.gallery').innerHTML = '';\n}\n\n/**\n * Відображає передану розмітку у галереї\n * @param {string} markup\n */\nexport function renderGallery(markup) {\n  document.querySelector('.gallery').innerHTML = markup;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// SVG: восьмиугольник 24x24 с крестом внутри\nconst octagonCrossSVG = `<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'>\n  <path d='M7 3H17L21 7V17L17 21H7L3 17V7L7 3Z' stroke='white' stroke-width='1.5' fill='none'/>\n  <path d='M15 9L9 15M9 9L15 15' stroke='white' stroke-width='1.5' stroke-linecap='round'/>\n</svg>`;\n\nconst octagonCrossDataUri = 'data:image/svg+xml;utf8,' + encodeURIComponent(octagonCrossSVG);\n\n// Ошибка\nexport const errorTost = (msg) => {\n  return iziToast.show({\n    class: 'custom-error-toast',\n    timeout: 4000,\n    close: true,\n    overlay: false,\n    position: 'topRight',\n    title: '',\n    message: msg,\n    progressBar: false,\n\n    transitionIn: 'fadeInDown',\n    transitionOut: 'fadeOutUp',\n    closeOnClick: true,\n  });\n};\n\n// Info\n// Info\nexport const infoTost = (msg) => {\n  return iziToast.show({\n    class: 'custom-info-toast',\n    timeout: 3000,\n    close: true,\n    overlay: false,\n    position: 'topRight',\n    title: '',\n    message: msg,\n    progressBar: false,\n    // Никаких image, icon и т.д.\n    transitionIn: 'fadeInDown',\n    transitionOut: 'fadeOutUp',\n    closeOnClick: true,\n  });\n};","import { fetchImages } from './js/pixabay-api.js';\nimport { createGalleryMarkup, clearGallery, renderGallery } from './js/render-functions.js';\nimport { errorTost, infoTost } from './js/izi-toast.js';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', onSearch);\n\nasync function onSearch(event) {\n  event.preventDefault();\n\n  const query = event.target.elements.search.value.trim();\n  if (!query) {\n    infoTost('Please, enter a search query!');\n    return;\n  }\n\n  clearGallery();\n  loader.style.display = 'block'; // показать надпись\n\n  try {\n    const images = await fetchImages(query);\n\n    if (images.length === 0) {\n      loader.style.display = 'none'; // скрыть надпись\n      infoTost('Sorry, there are no images matching your search query. Please try again!');\n      return;\n    }\n\n    const markup = createGalleryMarkup(images);\n    renderGallery(markup);\n\n    lightbox.refresh();\n  } catch (error) {\n    console.error(error);\n    errorTost('An error occurred while fetching images.');\n  } finally {\n    loader.style.display = 'none'; // скрыть надпись после загрузки\n  }\n}\n"],"names":["API_KEY","BASE_URL","fetchImages","query","params","url","response","createGalleryMarkup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","renderGallery","markup","errorTost","msg","iziToast","infoTost","form","loader","lightbox","SimpleLightbox","onSearch","event","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAOV,eAAeC,EAAYC,EAAO,CACvC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,EACd,CAAG,EAEKE,EAAM,GAAGJ,CAAQ,IAAIG,CAAM,GAE3BE,EAAW,MAAM,MAAMD,CAAG,EAEhC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,eAAeA,EAAS,MAAM,EAAE,EAIlD,OADa,MAAMA,EAAS,QAChB,IACd,CCvBO,SAASC,EAAoBC,EAAQ,CAC1C,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,mBAEOL,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,mCAGbC,CAAK;AAAA,mCACLC,CAAK;AAAA,sCACFC,CAAQ;AAAA,uCACPC,CAAS;AAAA;AAAA,YAG3C,EACA,KAAK,EAAE,CACZ,CAKO,SAASC,GAAe,CAC7B,SAAS,cAAc,UAAU,EAAE,UAAY,EACjD,CAMO,SAASC,EAAcC,EAAQ,CACpC,SAAS,cAAc,UAAU,EAAE,UAAYA,CACjD,CCjCO,MAAMC,EAAaC,GACjBC,EAAS,KAAK,CACnB,MAAO,qBACP,QAAS,IACT,MAAO,GACP,QAAS,GACT,SAAU,WACV,MAAO,GACP,QAASD,EACT,YAAa,GAEb,aAAc,aACd,cAAe,YACf,aAAc,EAClB,CAAG,EAKUE,EAAYF,GAChBC,EAAS,KAAK,CACnB,MAAO,oBACP,QAAS,IACT,MAAO,GACP,QAAS,GACT,SAAU,WACV,MAAO,GACP,QAASD,EACT,YAAa,GAEb,aAAc,aACd,cAAe,YACf,aAAc,EAClB,CAAG,ECvCGG,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,SAAS,EAC/B,SAAS,cAAc,UAAU,EAEjD,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAChB,CAAC,EAEDH,EAAK,iBAAiB,SAAUI,CAAQ,EAExC,eAAeA,EAASC,EAAO,CAC7BA,EAAM,eAAc,EAEpB,MAAMzB,EAAQyB,EAAM,OAAO,SAAS,OAAO,MAAM,OACjD,GAAI,CAACzB,EAAO,CACVmB,EAAS,+BAA+B,EACxC,MACD,CAEDN,IACAQ,EAAO,MAAM,QAAU,QAEvB,GAAI,CACF,MAAMhB,EAAS,MAAMN,EAAYC,CAAK,EAEtC,GAAIK,EAAO,SAAW,EAAG,CACvBgB,EAAO,MAAM,QAAU,OACvBF,EAAS,0EAA0E,EACnF,MACD,CAED,MAAMJ,EAASX,EAAoBC,CAAM,EACzCS,EAAcC,CAAM,EAEpBO,EAAS,QAAO,CACjB,OAAQI,EAAO,CACd,QAAQ,MAAMA,CAAK,EACnBV,EAAU,0CAA0C,CACxD,QAAY,CACRK,EAAO,MAAM,QAAU,MACxB,CACH"}